var _realTimeFeedback=function(){"use strict";var e=!0;function t(){e=!1}function y(e,t,n){for(var o=t.length;o--;)t[o].removeEventListener(e,n)}function T(){return window.location.href.replace(window.location.origin,"")}var o={get browser(){if(this.browserCache)return this.browserCache;for(var e=[{name:"Aol",rule:/AOLShield\/([0-9\._]+)/},{name:"Edge",rule:/Edge\/([0-9\._]+)/},{name:"Yandexbrowser",rule:/YaBrowser\/([0-9\._]+)/},{name:"Vivaldi",rule:/Vivaldi\/([0-9\.]+)/},{name:"Kakaotalk",rule:/KAKAOTALK\s([0-9\.]+)/},{name:"Samsung",rule:/SamsungBrowser\/([0-9\.]+)/},{name:"Chrome",rule:/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/},{name:"Phantomjs",rule:/PhantomJS\/([0-9\.]+)(:?\s|$)/},{name:"Crios",rule:/CriOS\/([0-9\.]+)(:?\s|$)/},{name:"Firefox",rule:/Firefox\/([0-9\.]+)(?:\s|$)/},{name:"Fxios",rule:/FxiOS\/([0-9\.]+)/},{name:"Opera",rule:/Opera\/([0-9\.]+)(?:\s|$)/},{name:"Opera",rule:/OPR\/([0-9\.]+)(:?\s|$)$/},{name:"IE",rule:/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/},{name:"IE",rule:/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/},{name:"IE",rule:/MSIE\s(7\.0)/},{name:"BB10",rule:/BB10;\sTouch.*Version\/([0-9\.]+)/},{name:"Android",rule:/Android\s([0-9\.]+)/},{name:"iOS",rule:/Version\/([0-9\._]+).*Mobile.*Safari.*/},{name:"Safari",rule:/Version\/([0-9\._]+).*Safari/},{name:"Facebook",rule:/FBAV\/([0-9\.]+)/},{name:"Instagram",rule:/Instagram\ ([0-9\.]+)/},{name:"iOS-webview",rule:/AppleWebKit\/([0-9\.]+).*Mobile/}],t=window.navigator.userAgent,n=0;n<e.length;n++){var o=e[n].rule.exec(t);if(o){var a=parseInt(o[1],10);return this.browserCache=e[n].name+(a?" "+a:""),this.browserCache}}return this.browserCache="Unknown",this.browserCache},get os(){if(this.osCache)return this.osCache;for(var e=[{name:"iOS",rule:/iP(hone|od|ad)/},{name:"Android OS",rule:/Android/},{name:"BlackBerry OS",rule:/BlackBerry|BB10/},{name:"Windows Mobile",rule:/IEMobile/},{name:"Amazon OS",rule:/Kindle/},{name:"Windows 3.11",rule:/Win16/},{name:"Windows 95",rule:/(Windows 95)|(Win95)|(Windows_95)/},{name:"Windows 98",rule:/(Windows 98)|(Win98)/},{name:"Windows 2000",rule:/(Windows NT 5.0)|(Windows 2000)/},{name:"Windows XP",rule:/(Windows NT 5.1)|(Windows XP)/},{name:"Windows Server 2003",rule:/(Windows NT 5.2)/},{name:"Windows Vista",rule:/(Windows NT 6.0)/},{name:"Windows 7",rule:/(Windows NT 6.1)/},{name:"Windows 8",rule:/(Windows NT 6.2)/},{name:"Windows 8.1",rule:/(Windows NT 6.3)/},{name:"Windows 10",rule:/(Windows NT 10.0)/},{name:"Windows ME",rule:/Windows ME/},{name:"Open BSD",rule:/OpenBSD/},{name:"Sun OS",rule:/SunOS/},{name:"Linux",rule:/(Linux)|(X11)/},{name:"Mac OS",rule:/(Mac_PowerPC)|(Macintosh)/},{name:"QNX",rule:/QNX/},{name:"BeOS",rule:/BeOS/},{name:"OS/2",rule:/OS\/2/}],t=window.navigator.userAgent,n=0;n<e.length;n++)if(e[n].rule.test(t))return this.osCache=e[n].name,this.osCache;return this.osCache="Unknown",this.osCache},get resolution(){return window.screen.width+"x"+window.screen.height}},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},r=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),p=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,a=!1,r=void 0;try{for(var i,l=e[Symbol.iterator]();!(o=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){a=!0,r=e}finally{try{!o&&l.return&&l.return()}finally{if(a)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};if("[object Object]"===Object.prototype.toString.call(window._realTimeFeedback))throw new Error("--\x3e realTimeFeedback script is already included on this page.");try{var n=window.localStorage;if(!n.getItem("realTimeFeedback")){var i="_realTimeFeedback_test_";n.setItem(i,i),n.removeItem(i)}}catch(e){t()}if(window.requestAnimationFrame||t(),!window.Promise){var l=function(){},c=function(e){if("object"!==s(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],b(e,this)},d=function(n,o){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,c._immediateFn(function(){var e=1===n._state?o.onFulfilled:o.onRejected;if(null!==e){var t;try{t=e(n._value)}catch(e){return void m(o.promise,e)}u(o.promise,t)}else(1===n._state?u:m)(o.promise,n._value)})):n._deferreds.push(o)},u=function(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===(void 0===e?"undefined":s(e))||"function"==typeof e)){var n=e.then;if(e instanceof c)return t._state=3,t._value=e,void f(t);if("function"==typeof n)return void b((o=n,a=e,function(){o.apply(a,arguments)}),t)}t._state=1,t._value=e,f(t)}catch(e){m(t,e)}var o,a},m=function(e,t){e._state=2,e._value=t,f(e)},f=function(e){2===e._state&&0===e._deferreds.length&&c._immediateFn(function(){e._handled||c._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)d(e,e._deferreds[t]);e._deferreds=null},h=function(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n},b=function(e,t){var n=!1;try{e(function(e){n||(n=!0,u(t,e))},function(e){n||(n=!0,m(t,e))})}catch(e){if(n)return;n=!0,m(t,e)}},g=setTimeout;c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){var n=new this.constructor(l);return d(this,new h(e,t,n)),n},c.all=function(e){var l=Array.prototype.slice.call(e);return new c(function(o,a){if(0===l.length)return o([]);var r=l.length;function i(t,e){try{if(e&&("object"===(void 0===e?"undefined":s(e))||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void n.call(e,function(e){i(t,e)},a)}l[t]=e,0==--r&&o(l)}catch(e){a(e)}}for(var e=0;e<l.length;e++)i(e,l[e])})},c.resolve=function(t){return t&&"object"===(void 0===t?"undefined":s(t))&&t.constructor===c?t:new c(function(e){e(t)})},c.reject=function(n){return new c(function(e,t){t(n)})},c.race=function(a){return new c(function(e,t){for(var n=0,o=a.length;n<o;n++)a[n].then(e,t)})},c._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){g(e,0)},c._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.log("Possible Unhandled Promise Rejection:",e)},c._setImmediateFn=function(e){c._immediateFn=e},c._setUnhandledRejectionFn=function(e){c._unhandledRejectionFn=e},window.Promise=c}Object.entries||(Object.entries=function(n){return Object.keys(n).reduce(function(e,t){return e.push([t,n[t]])&&e},[])}),Object.values||(Object.values=function(t){return Object.keys(t).map(function(e){return t[e]})}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),o=n.length>>>0;if(0===o)return!1;var a,r,i=0|t,l=Math.max(0<=i?i:o-Math.abs(i),0);for(;l<o;){if((a=n[l])===(r=e)||"number"==typeof a&&"number"==typeof r&&isNaN(a)&&isNaN(r))return!0;l++}return!1}}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),window.performance||(window.performance={offset:Date.now(),now:function(){return Date.now()-this.offset}}),window.requestIdleCallback=window.requestIdleCallback||window.requestAnimationFrame,window.onstorage=function(){};var w={};function v(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return w[e]||(w[e]=[]),w[e].push({callback:t,oneTime:n})-1}function k(e,t){w[e]&&void 0!==t&&(w[e][t]=null)}function F(n,o){w[n]&&w[n].forEach(function(e,t){e&&(e.oneTime&&k(n,t),e.callback.call(null,o))})}var x=(new Date).toISOString()+" - "+performance.now(),S=void 0;function _(){return localStorage.getItem("realTimeFeedbackTab")===x||(F("pauseWidget"),!1)}function E(){_()&&localStorage.setItem("realTimeFeedback",JSON.stringify(S))}function O(){localStorage.getItem("realTimeFeedback")?(S=JSON.parse(localStorage.getItem("realTimeFeedback")),1!==parseInt(S.version,10)&&(S.version=1)):(S={version:1,user:function(){for(var e=Date.now().toString(36)+performance.now().toString(36).replace(".",""),t=0,n=24-(e=e.substr(0,18)).length;t<n;t+=1)e+=Math.floor(36*Math.random()).toString(36);return e}(),workflows:{}},localStorage.setItem("realTimeFeedback",JSON.stringify(S)));localStorage.setItem("realTimeFeedbackTab",x)}var C={poll:function e(t,p,h){var b=t.html,g=t.css,w=t.data,v=this;a(this,e),console.log("\t poll - start");var k=p[h];if(k||(p[h]={done:0,data:{name:"poll"}},k=p[h],E()),0<k.done)return console.log("\t poll - end from done"),void(this.promise=null);this.promise=new Promise(function(o,e){var n,a,t=document.createElement("style");t.type="text/css",t.innerHTML=(n=g,a="",Object.keys(n).forEach(function(t){a+=t+" {",Object.keys(n[t]).forEach(function(e){a+=e+": "+n[t][e]+";"}),a+="}"}),a),document.head.appendChild(t);var r=document.createElement("div");r.insertAdjacentHTML("beforeend",function(e,t){for(var n=/\${(.*?)}/g,o=void 0;o=n.exec(e);)e=e.replace(o[0],t[o[1]]);return e}(b,w));var i=r.firstElementChild;requestIdleCallback(function(){document.body.appendChild(i)},{timeout:2e3});var l=i.querySelectorAll("[data-realTimeFeedback-action]");!function(e,t,n){for(var o=t.length;o--;)t[o].addEventListener(e,n,!1)}("click",l,d);var s=i.querySelector(".realTimeFeedback-poll-textarea");s.addEventListener("keyup",m,!1);var c=i.querySelector(".realTimeFeedback-poll-button");function d(e){var t=e.currentTarget;console.log("\t poll - end from promise"),y("click",l,d),s.removeEventListener("keyup",m);var n=t.getAttribute("data-realTimeFeedback-action");k.done=1,k.data.action=n,k.data.msg=s.value,k.data.email=i.querySelector(".realTimeFeedback-poll-input").value,p.page=T(),"close"===n&&u(),E(),o()}function u(){document.body.removeChild(i),document.head.removeChild(t)}function m(){2<s.value.length?c.classList.add("realTimeFeedback-poll-button--active"):c.classList.remove("realTimeFeedback-poll-button--active")}c.addEventListener("click",function e(){c.classList.contains("realTimeFeedback-poll-button--active")&&(c.removeEventListener("click",e),i.querySelector(".realTimeFeedback-poll-step1").style.display="none",i.querySelector(".realTimeFeedback-poll-close").style.display="none",f.style.display="flex",f.click(),f.querySelector(".realTimeFeedback-poll-button-close").addEventListener("click",function(){return u()},!1))},!1);var f=i.querySelector(".realTimeFeedback-poll-step2");v.cancel=function(){console.log("\t poll - cancel"),y("click",l,d),document.body.removeChild(i),document.head.removeChild(t),delete p[h],E(),e()}})},frustration:function e(t,h,n){t.name;var o=this;a(this,e),console.log("\t frustration - start");var b=h[n];if(b||(h[n]=b={done:0,data:{name:"frustration"}},E()),0<b.done)return console.log("\t frustration - end from done"),void(this.promise=null);this.promise=new Promise(function(d,e){o.cancel=function(){console.log("\t frustration - cancel"),k("scroll",p),delete h[n],E(),e()};var u=[],m=[],f=0,p=v("scroll",function(e){var t=e.time,n=e.pageYOffset,o=m[0]||{},a=o.lastTime,r=void 0===a?0:a,i=o.y,l=void 0===i?0:i,s=o.direction,c=void 0===s?"":s;if(1e3<t-r)return console.log("%c \t reset from time","color: red; font-weight: bold;"),m=[{lastTime:t,y:n,direction:""}],f=0,void(u=[]);if(c){if("down"===c){if(n<l)return 3<m.length?(f++,u.push(m)):(f=0,u=[]),m=[{lastTime:t,y:n,direction:"up"}],void console.log("%c \t reset from down || edge: "+f,"color: red; font-weight: bold;");m.unshift({lastTime:t,y:n,direction:"down"})}else if("up"===c){if(l<n)return 3<m.length?(f++,u.push(m)):(f=0,u=[]),m=[{lastTime:t,y:n,direction:"down"}],void console.log("%c \t reset from up || edge: "+f,"color: red; font-weight: bold;");m.unshift({lastTime:t,y:n,direction:"up"})}5===f&&(console.log("\t frustration - end from promise"),k("scroll",p),b.done=1,h.page=T(),d())}else m.unshift({lastTime:t,y:n,direction:l<n?"down":"up"})})})},rage:function e(t,d,n){var o=this;a(this,e),console.log("\t rage - start");var u=d[n];if(u||(d[n]=u={done:0,data:{name:"rage"}},E()),0<u.done)return console.log("\t rage - end from done"),void(this.promise=null);this.promise=new Promise(function(i,e){o.cancel=function(){console.log("\t rage - cancel"),k("bodyClick",c),delete d[n],E(),e()};var l=[{time:0},{time:0},{time:0}],s=!1,c=v("bodyClick",function(e){var t=e.time,n=e.target,o=e.pageX,a=e.pageY;if(l.push({time:t,pageX:o,pageY:a}),!s){l.shift();var r=l[l.length-1].time-l[0].time;r<700&&(console.log("\t rage ("+r+", "+n+") - end from promise"),u.done=1,d.page=T(),d.target=function(e){if(!e||!e.outerHTML)return"";for(var t=[],n=!0;e.parentNode;){var o=e.nodeName;if(!o)break;var a={name:o.toLowerCase(),cls:e.getAttribute("class")||"",id:e.getAttribute("id")||"",nthChild:0};n&&(a.text=e.textContent.trim().substr(0,30),a.nameAttribute=e.getAttribute("name")||"",n=!1);var r=e.parentNode;if(r.children&&0<r.children.length)for(var i=0;i<r.children.length;i++)r.children[i]===e&&(a.nthChild=i+1);t.push(a),e=r}if(0===t.length)return"";var l="";t.forEach(function(e,t){var n=e.name;"html"!==n&&(l=0===t?n:n+" > "+l)});var s=t[0].cls.trim();l+=s?". "+s.split(" ").filter(Boolean).join("."):"";var c=t[0].id.trim();l+=c?"#"+c:"";var d=t[0].text.trim();return l+=d?"|"+d:""}(n),s=!0,setTimeout(function(){k("bodyClick",c)},1e4),i())}})})},wastedClick:function e(t,i,l){var s=this;a(this,e),console.log("\t wastedClick - start");var c=i[l];if(c||(i[l]=c={done:0,data:{name:"wastedClick",wastedPages:[]}},E()),0<c.done)return console.log("\t wastedClick - end from done"),void(this.promise=null);this.promise=new Promise(function(e,t){if(s.cancel=function(){console.log("\t wastedClick - cancel"),delete i[l],E(),t()},c.data.wastedPages.push({time:Date.now(),page:T()}),3<=c.data.wastedPages.length){c.data.wastedPages=c.data.wastedPages.slice(-3);var n=p(c.data.wastedPages,3),o=n[0],a=n[1],r=n[2];o.page!==a.page&&o.page===r.page&&r.time-o.time<1e4&&(console.log("\t wastedClick - end from promise"),c.done=1,i.page=T(),e())}E()})}},W={html:'<div class="realTimeFeedback realTimeFeedback-poll realTimeFeedback-animation-${animation} realTimeFeedback-position-${position}">\n            <div class="realTimeFeedback-poll-body">\n                <div class="realTimeFeedback-poll-step1">\n                    <div class="realTimeFeedback-poll-title">${title}</div>\n                    <textarea class="realTimeFeedback-poll-textarea" rows="5" placeholder="Type here your message..."></textarea>\n                    <input type="email" class="realTimeFeedback-poll-input" placeholder="Enter email for a response (optional)" />\n                    <div class="realTimeFeedback-button realTimeFeedback-poll-button">${actionText}</div>\n                </div>\n                <div class="realTimeFeedback-poll-step2" data-realTimeFeedback-action="next">\n                    <div class="realTimeFeedback-poll-title">${thanks}</div>\n                    <div class="realTimeFeedback-button realTimeFeedback-poll-button-close">${thanksButton}</div>\n                </div>\n            </div>\n            <div class="realTimeFeedback-poll-close" data-realTimeFeedback-action="close">\n                <svg height="11" width="11" xmlns="http://www.w3.org/2000/svg">\n                    <line x1="0" y1="11" x2="11" y2="0" stroke-width="2"/>\n                    <line x1="0" y1="0" x2="11" y2="11" stroke-width="2"/>\n                </svg>\n            </div>\n        </div>',css:{".realTimeFeedback-poll":{"border-radius":"4px 5px 0 0","z-index":2147483647,background:"rgb(60, 60, 60)",position:"fixed","max-width":"350px",width:"100%","box-shadow":"0 0 14px 3px rgba(0, 0, 0, 0.38)","font-family":'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif',"font-weight":400,"line-height":1.4,color:"rgb(255, 255, 255)"},".realTimeFeedback-poll-body":{margin:"18px 13px 18px 13px"},".realTimeFeedback-poll-step1":{display:"flex","flex-direction":"column"},".realTimeFeedback-poll-title":{"max-width":"100%","text-align":"center",margin:"0 0 12px",padding:"0 20px","font-size":"15px","align-self":"center"},".realTimeFeedback-poll textarea.realTimeFeedback-poll-textarea":{color:"#585858",background:"#fff","font-family":"inherit","font-size":"13px","line-height":"inherit","font-weight":"inherit",padding:"9px 10px",resize:"none",width:"100%",border:"1px solid #3c3c3c","border-radius":"4px"},".realTimeFeedback-poll input.realTimeFeedback-poll-input":{color:"#585858",background:"#fff",width:"100%",padding:"0 10px",margin:"5px 0 0 0",border:"1px solid #3c3c3c","font-family":"inherit","font-size":"13px","line-height":"inherit","font-weight":"inherit",height:"36px","border-radius":"4px"},".realTimeFeedback-poll-button":{"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none","text-align":"center",cursor:"default",color:"rgba(255, 255, 255, 0.25)",padding:"10px 18px",background:"#545454","border-radius":"4px","font-size":"13px",margin:"18px 1px 0 0",transition:"background .3s, color .3s","align-self":"flex-end"},".realTimeFeedback-poll-button--active":{cursor:"pointer",color:"#fff",background:"#2b882b"},".realTimeFeedback-poll-step2":{display:"none","flex-direction":"column","align-items":"center","justify-content":"center",padding:"12px 0 6px"},".realTimeFeedback-poll-button-close":{cursor:"pointer",padding:"10px 18px",background:"#616161",color:"#fff","border-radius":"4px","font-size":"13px",margin:"5px 0 0 0"},".realTimeFeedback-poll-button-close:hover":{opacity:.9},".realTimeFeedback-poll-button--active:hover":{opacity:.9},".realTimeFeedback-poll-close":{display:"flex",position:"absolute",right:"8px",top:"8px",padding:"5px",cursor:"pointer",stroke:"#888"},".realTimeFeedback-poll-close:hover":{stroke:"#ccc"}},data:{position:"bottom-left",animation:"slideUp",title:"Would love to hear your feedback!",actionText:"Send Message",thanks:"Thank you for answering this poll. Your feedback is appreciated!",thanksButton:"Close"},name:"poll"},I={workflows:{"rageclicks-poll":{start:{name:"rage"},end:W},"wastedClick-poll":{start:{name:"wastedClick"},end:W},"frustration-poll":{start:{name:"frustration"},end:W}}};var j=function(){function n(e,t){a(this,n),console.log("workflow - start ["+e+"]"),this.id=e,(this.opts=t).start.name||t.end.name?(this.storageWorkflow=S.workflows[e],this.storageWorkflow||(this.storageWorkflow=S.workflows[e]=[{done:0}],E()),this.run()):console.log("workflow - finished with no trigger and action")}return r(n,[{key:"run",value:function(){var t=this;this.storageData=this.storageWorkflow[this.storageWorkflow.length-1],Promise.resolve(this.processEvent("start")).then(this.processEvent.bind(this,"end")).then(function(){t.nodeInstance=null,t.storageData.done=1,console.log("workflow - end"),t.storageWorkflow.push({done:0}),function(){if(_()){var n=[],e=S.workflows;Object.entries(e).forEach(function(e){var t=p(e,2);t[0],t[1].forEach(function(e){var t={};1===e.done&&(t.browser=o.browser,t.os=o.os,t.resolution=o.resolution,t.startData=e.start.data,e.end&&(t.endData=e.end.data),t.page=e.page,t.target=e.target||"",n.push(t),e.done=2)})}),0!==n.length&&(jQuery.post(window.ajaxurl,{action:"savePoll",nonce:window._realTimeFeedbackAjax,data:n}),E())}}(),E(),t.run()}).catch(function(e){t.stop(),t.nodeInstance=null,console.log("catch run",e)})}},{key:"processEvent",value:function(e){var t=this.opts[e];if(t.name)return this.nodeInstance=new C[t.name](t,this.storageData,e),this.nodeInstance.promise}},{key:"stop",value:function(){this.nodeInstance&&this.nodeInstance.cancel()}}]),n}(),A=[];var P,N=!1,B=document.body,M=document.documentElement;function L(e){var t,n,o,a,r,i,l,s,c,d,u=p(e,2),m=u[0],f=u[1];"poll-data"===m&&(n=(t=f).position,o=t.animation,a=t.title,r=t.actionText,i=t.thanks,l=t.thanksButton,s=t.background,c=t.font,d=t.color,W.data.position=n,W.data.animation=o,W.data.title=a,W.data.actionText=r,W.data.thanks=i,W.data.thanksButton=l,W.css[".realTimeFeedback-poll"].background=s,W.css[".realTimeFeedback-poll"]["font-family"]=c,W.css[".realTimeFeedback-poll"].color=d)}function $(){window.addEventListener("focus",function(){console.log("tab got focus 1"),_()||(console.log("tab got focus 2"),q())})}function q(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];O(),e&&$(),v("pauseWidget",function(){console.log("workflows - stop"),A.forEach(function(e){e.stop()}),A=[],N=!0},!0),console.log("workflows - start"),Object.entries(I.workflows).forEach(function(e){var t=p(e,2),n=t[0],o=t[1];A.push(new j(n,o))}),function(){if(!N){B.addEventListener("click",function(e){var t=e.target,n=t.parentNode;F("bodyClick",{e:e,target:t,parent:n,grandParent:n?n.parentNode:null,time:Date.now(),pageX:e.pageX,pageY:e.pageY}),E()});var t=!1;window.addEventListener("scroll",function(e){t||(window.requestAnimationFrame(function(){F("scroll",{e:e,time:Date.now(),pageYOffset:window.pageYOffset,scrollHeight:B.scrollHeight,clientHeight:M.clientHeight}),E(),t=!1}),t=!0)})}}()}return e&&((P=document.createElement("style")).type="text/css",P.id="realTimeFeedback-custom-css",P.innerHTML=".realTimeFeedback,.realTimeFeedback *{box-sizing:border-box}.realTimeFeedback :focus{outline:none}.realTimeFeedback{will-change:transform, opacity}.realTimeFeedback-position-bottom{bottom:0}.realTimeFeedback-position-top{top:0}.realTimeFeedback-position-bottom-left{bottom:0;left:175px}.realTimeFeedback-position-bottom-right{bottom:0;right:175px}@media screen and (max-width: 700px){.realTimeFeedback-position-bottom-right{right:calc(50% - 175px)}.realTimeFeedback-position-bottom-left{left:calc(50% - 175px)}}@media screen and (max-width: 350px){.realTimeFeedback-position-bottom-right{right:0}.realTimeFeedback-position-bottom-left{left:0}}.realTimeFeedback-animation-fadeIn{-webkit-animation:realTimeFeedback-keyframes-fadeIn .7s ease-in-out both;animation:realTimeFeedback-keyframes-fadeIn .7s ease-in-out both}@-webkit-keyframes realTimeFeedback-keyframes-fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes realTimeFeedback-keyframes-fadeIn{0%{opacity:0}100%{opacity:1}}.realTimeFeedback-animation-slideUp{-webkit-animation:realTimeFeedback-keyframes-slideUp .7s ease-in-out both;animation:realTimeFeedback-keyframes-slideUp .7s ease-in-out both}@-webkit-keyframes realTimeFeedback-keyframes-slideUp{0%{-webkit-transform:translateY(150%)}100%{-webkit-transform:translateY(0)}}@keyframes realTimeFeedback-keyframes-slideUp{0%{transform:translateY(150%)}100%{transform:translateY(0)}}",document.head.appendChild(P),Array.isArray(window._realTimeFeedback)&&window._realTimeFeedback.forEach(function(e){L(e)}),document.hasFocus()?(console.log("tab is focused"),q(!0)):(console.log("tab is NOT focused"),$())),{push:L}}();